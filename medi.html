<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CareConnect</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<style>

/* Modern top navigation styling */
.topnav {
  background-color: #2c3e50;
  overflow: hidden;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  border-radius: 4px;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

/* Style the links inside the navigation bar */
.topnav a {
  float: left;
  color: #ecf0f1;
  text-align: center;
  padding: 16px 18px;
  text-decoration: none;
  font-size: 16px;
  transition: all 0.3s ease;
  letter-spacing: 0.5px;
  position: relative;
}

/* Change the color of links on hover */
.topnav a:hover {
  background-color: rgba(255,255,255,0.1);
  color: #3498db;
}

/* Add a color to the active/current link */
.topnav a.active {
  background-color: #3498db; 
  color: white;
  font-weight: 500;
}

/* Active link hover */
.topnav a.active:hover {
  background-color: #2980b9;
}

/* Add subtle indicator under links on hover */
.topnav a:after {
  content: '';
  position: absolute;
  width: 0;
  height: 3px;
  bottom: 0;
  left: 0;
  background-color: #3498db;
  transition: width 0.3s ease;
}

.topnav a:hover:after {
  width: 100%;
}

/* Responsive navigation */
@media screen and (max-width: 600px) {
  .topnav a {
    float: none;
    display: block;
    text-align: left;
    width: 100%;
    padding: 14px 16px;
  }
}
/* The side navigation menu */
.sidebar {
  margin: 0;
  padding: 0;
  width: 200px;
  background-color: #f1f1f1;
  position: fixed;
  height: 100%;
  overflow: auto;
}

/* Sidebar links */
.sidebar a {
  display: block;
  color: black;
  padding: 16px;
  text-decoration: none;
}

/* Active/current link */
.sidebar a.active {
  background-color: blue;
  color: white;
}

/* Links on mouse-over */
.sidebar a:hover:not(.active) {
  background-color: #555;
  color: white;
}

/* Page content. The value of the margin-left property should match the value of the sidebar's width property */
div.content {
  margin-left: 200px;
  padding: 1px 16px;
  height: 1000px;
}

/* On screens that are less than 700px wide, make the sidebar into a topbar */
@media screen and (max-width: 700px) {
  .sidebar {
    width: 100%;
    height: auto;
    position: relative;
  }
  .sidebar a {float: left;}
  div.content {margin-left: 0;}
}

/* On screens that are less than 400px, display the bar vertically, instead of horizontally */
@media screen and (max-width: 400px) {
  .sidebar a {
    text-align: center;
    float: none;
  }
}
</style>
<body>
       <div class="topnav">
        <a href="index.html">User Database</a>
        <a class="active" href="medi.html">Medical Database</a>
        <a href="vscripts.html">Verified Scripts</a>
        <a href="#about">Contact</a>
      </div> 

          <title>OpenFDA Chronic Disease Search</title>
          <style>
              body {
                  font-family: Arial, sans-serif;
                  max-width: 800px;
                  margin: 0 auto;
                  padding: 20px;
              }
              h1 {
                  color: #2c3e50;
              }
              .input-group {
                  margin-bottom: 20px;
              }
              input[type="text"] {
                  padding: 8px;
                  width: 300px;
                  border: 1px solid #ccc;
                  border-radius: 4px;
              }
              button {
                  padding: 8px 16px;
                  background-color: #3498db;
                  color: white;
                  border: none;
                  border-radius: 4px;
                  cursor: pointer;
              }
              button:hover {
                  background-color: #2980b9;
              }
              #results {
                  margin-top: 20px;
              }
              .result-item {
                  padding: 10px;
                  margin-bottom: 10px;
                  background-color: #f9f9f9;
                  border-radius: 4px;
              }
              .loading {
                  margin-top: 20px;
                  color: #7f8c8d;
              }
              .error {
                  color: #e74c3c;
              }
          </style>
      </head>
      <body>
          <h1>OpenFDA Chronic Disease Drug Search</h1>
          
          <div class="input-group">
              <input type="text" id="diseaseInput" placeholder="Enter chronic disease (e.g., diabetes, hypertension)">
              <button onclick="searchDisease()">Search</button>
          </div>
          
          <div id="loading" class="loading" style="display: none;">Searching...</div>
          <div id="error" class="error" style="display: none;"></div>
          <div id="results"></div>
      
          <script>
              function searchDisease() {
                  const chronicDisease = document.getElementById('diseaseInput').value.trim();
                  if (!chronicDisease) {
                      document.getElementById('error').textContent = 'Please enter a chronic disease';
                      document.getElementById('error').style.display = 'block';
                      return;
                  }
                  
                  document.getElementById('error').style.display = 'none';
                  document.getElementById('results').innerHTML = '';
                  document.getElementById('loading').style.display = 'block';
                  
                  // Build the OpenFDA API URL with proper encoding
                  const apiKey = 'https://api.fda.gov/drug/label.json';
                  const query = `?search=indications_and_usage:${encodeURIComponent(chronicDisease)}&limit=10`;
                  const url = apiKey + query;
                  
                  fetch(url)
                      .then(response => {
                          if (!response.ok) {
                              throw new Error(`HTTP error! Status: ${response.status}`);
                          }
                          return response.json();
                      })
                      .then(data => {
                          document.getElementById('loading').style.display = 'none';
                          
                          if (data.results && data.results.length > 0) {
                              const resultsDiv = document.getElementById('results');
                              resultsDiv.innerHTML = `<h2>Drugs for ${chronicDisease} (Generic Names Only)</h2>`;
                              
                              data.results.forEach(drug => {
                                  // Extract the generic name from the openfda object if available
                                  if (drug.openfda && drug.openfda.generic_name) {
                                      const genericName = drug.openfda.generic_name[0];
                                      const resultItem = document.createElement('div');
                                      resultItem.className = 'result-item';
                                      resultItem.textContent = genericName;
                                      resultsDiv.appendChild(resultItem);
                                  }
                              });
                              
                              // Show message if no generic names were found
                              if (resultsDiv.children.length === 1) { // Only the heading exists
                                  const noResults = document.createElement('p');
                                  noResults.textContent = 'No generic names found for the specified condition.';
                                  resultsDiv.appendChild(noResults);
                              }
                          } else {
                              document.getElementById('results').innerHTML = 
                                  `<p>No results found for "${chronicDisease}". Try another search term.</p>`;
                          }
                      })
                      .catch(error => {
                          document.getElementById('loading').style.display = 'none';
                          document.getElementById('error').textContent = 
                              `Error fetching data: ${error.message}. The API might not have data for "${chronicDisease}" or there might be a connection issue.`;
                          document.getElementById('error').style.display = 'block';
                      });
              }
          </script>
      </body>
      </html>
  <!-- Page content -->
  <div class="content">
    ..
  </div>
</body>
</html>